/* Qatrix v1.0.2 / http://qatrix.com / Copyright (c) 2012, Angel Lai - MIT license. */
(function(m,g,n){var x=/(^\n+)|(\n+$)/g,F=/^(?:\{.*\}|\[.*\])$/,G=/-([a-z])/ig,H=/\r\n/g,I=/[\-\+0-9\.]/ig,r=/\s+/,J=/(^\s*)|(\s*$)/g,K=/opacity=([^)]*)/,L=/^[\],:{}\s]*$/,M=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,O=/(?:^|:|,)(?:\s*\[)+/g,y=["height","margin-top","margin-bottom","padding-top","padding-bottom"],z=[],A=function(){$each(z,function(a,b){b()});g.removeEventListener("DOMContentLoaded",A,!1)},q=function(a,b){var c=typeof b;if("string"===c){var d=(a&&a.ownerDocument||g).createDocumentFragment(),f=$new("div");for(f.innerHTML=b;null!=f.childNodes[0];)d.appendChild(f.childNodes[0]);b=d}"number"===c&&(b+="");return b},e=function(a,b){if(null!==a){var c=a.length;return b?c!==n?(0<c&&$each(a,function(a,c){b(c)}),a):b(a):a}},B=function(a,b,c,d){return e(a,function(a){var u={},h="show"===b,e=a.style,s,k,j;h?(s=$data.get(a,"_display"),s||(k=$append(g.body,$new(a.nodeName)),s=$style.get(k,"display"),$remove(k),$data.set(a,"_display",s)),e.display=s):s="none";c?(j=$style.get(a,"overflow"),e.overflow="hidden",u.opacity=h?{from:0,to:1}:{from:1,to:0},$each(y,function(b,c){u[c]=h?{from:0,to:$style.get(a,c)}:0}),$animate(a,u,c,function(){$each(y,function(b,a){e[a]=""});$style.set(a,"opacity","");e.display=s;e.overflow=j;d&&d()})):e.display=s})},C=function(a,b){if("object"===typeof b){var c=[];$each(b,function(b,f){"object"===typeof f?c.push(C(a+"["+b+"]",f)):c.push(a+"["+$url(b)+"]="+f)});return c.join("&")}return $url(a)+"="+$url(b)},P=g.getElementsByClassName?function(a,b,c){return e(a.getElementsByClassName(b),c)}:function(a,b,c){var d=[],f=RegExp("(^|\\s)"+b+"(\\s|$)");$tag(a,"*",function(b){f.test(b.className)&&d.push(b)});return e(d,c)},Q=g.querySelectorAll?function(a,b){return e(g.querySelectorAll(a),b)}:function(a,b){var c=l.Qselector.styleSheet,d=[];c.addRule(a,"q:a");$tag(g,"*",function(b){"a"===b.currentStyle.q&&d.push(b)});c.cssText="";return e(d,b)},R={camelCase:function(a){return a.replace("-ms-","ms-").replace(G,function(b,a){return(a+"").toUpperCase()})},replace:function(a,b){for(var c in b)a=a.replace(RegExp(c,"ig"),b[c]);return a},slashes:function(a){return $string.replace(a,{"\\\\":"\\\\","\b":"\\b","\t":"\\t","\n":"\\n","\r":"\\r",'"':'\\"'})},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(J,"")}},S=m.localStorage?{set:function(a,b){localStorage[a]="object"===typeof b?$json.encode(b):b},get:function(a){a=localStorage[a];return $json.isJSON(a)?$json.decode(a):a||""},remove:function(a){localStorage.removeItem(a);return!0}}:{set:function(a,b){b="object"===typeof b?$json.encode(b):b;$data.set(l.storage,a,b);l.storage.save("Qstorage")},get:function(a){l.storage.load("Qstorage");return $data.get(l.storage,a)||""},remove:function(a){l.storage.load("Qstorage");$data.remove(l.storage,a);return!0}},T={add:function(a,b,c){return e(a,function(a){if("object"===typeof b)return $each(b,function(b,c){$event.add(a,b,c)}),a;if(3===a.nodeType||8===a.nodeType||!b||!c)return!1;if(a.addEventListener){if("mouseenter"===b||"mouseleave"===b)b="mouseenter"===b?"mouseover":"mouseout",c=$event.handler.mouseenter(c);a.addEventListener(b,c,!1)}else{if(a.getAttribute){var f=c.toString();if($data.get(a,"event-"+b+"-"+f))return!1;$data.set(a,"event-"+b+"-"+f,!0)}a.attachEvent("on"+b,c)}return a})},remove:g.removeEventListener?function(a,b,c){return e(a,function(a){if("object"===typeof b)return $each(b,function(b,c){$event.remove(a,b,c)}),a;a.removeEventListener(b,c,!1);return a})}:function(a,b,c){return e(a,function(a){if("object"===typeof b)return $each(b,function(b,c){$event.remove(a,b,c)}),a;a.detachEvent("on"+b,c);a.removeAttribute&&$attr.remove(a,"event-"+b+"-"+c.toString());return a})},handler:{mouseenter:function(a){return function(b){var c=b.relatedTarget;if(this!==c){for(;c&&c!==this;)c=c.parentNode;c!==this&&a.call(this,b)}}}},key:function(a){return a.which||a.charCode||a.keyCode},metaKey:function(a){return a.metaKey||a.ctrlKey},target:function(a){return a.target?a.target:a.srcElement||g}},U={get:m.getComputedStyle?function(a,b){if(null!==a){var c=g.defaultView.getComputedStyle(a,null).getPropertyValue(b);return"auto"===c||""===c?0:c}return!1}:function(a,b){if(null!==a){var c="opacity"===b?K.test(a.currentStyle.filter)?0.01*parseFloat(RegExp.$1)+"":1:a.currentStyle[$string.camelCase(b)];return"auto"===c?0:c}return!1},set:g.documentElement.style.opacity!==n?function(a,b,c){return e(a,function(a){a.style[b]=c;return!0})}:function(a,b,c){return e(a,function(a){if(!a.currentStyle||!a.currentStyle.hasLayout)a.style.zoom=1;"opacity"===b?(a.style.filter="alpha(opacity="+100*c+")",a.style.zoom=1):a.style[b]=c;return!0})}},k;k=g.documentElement.style;if(k.webkitTransition!==n||k.MozTransition!==n||k.OTransition!==n||k.MsTransition!==n||k.transition!==n){k=g.documentElement.style;k=k.webkitTransition!==n?"Webkit":k.MozTransition!==n?"Moz":k.OTransition!==n?"O":k.MsTransition!==n?"ms":"";var D=k+"Transition",E=k+"Transform";k=function(a,b,c,d){return e(a,function(a){var e=[],h=[],g=[],k=[],l=a.style,j;for(j in b)h[j]=$string.camelCase(j),b[j].from!==n?(b[j].to=b[j].to||0,e[j]=!$css.number[j]?parseInt(b[j].to):b[j].to,g[j]=$css.unit(j,b[j].to),$style.set(a,h[j],parseInt(b[j].from)+g[j])):(e[j]=!$css.number[j]?parseInt(b[j]):b[j],g[j]=$css.unit(j,b[j]),$style.set(a,h[j],$style.get(a,h[j]))),k.push(j);setTimeout(function(){l[D]="all "+c+"ms";if(b.left||b.top)l[E]="translateZ(0)";$each(k,function(a,b){l[h[b]]=e[b]+g[b]})},15);setTimeout(function(){l[D]=l[E]="";d&&d(a)},c||300);return a})}}else k=function(a,b,c,d){return e(a,function(a){var e=0,h=0,g=0,k=0,l=[],j=[],m=[],q=[],r=[],p;c=c||300;for(p in b)m.push($string.camelCase(p)),b[p].from!==n?(g=b[p].to,j.push(!$css.number[p]?parseInt(b[p].from):b[p].from),$style.set(a,m[h],j[h]+$css.unit(p,g))):(g=b[p],j.push(parseInt($style.get(a,$string.camelCase(p))))),l.push(!$css.number[p]?parseInt(g):g),q.push($css.unit(p,g)),h++,k++;for(g=0;30>g;g++){r[g]=[];for(h=0;h<k;h++)r[g][m[h]]=j[h]+(l[h]-j[h])/30*g+("opacity"===m[h]?"":q[h])}for(;30>h;h++)setTimeout(function(){for(h=0;h<k;h++)$style.set(a,m[h],r[e][m[h]]);e++},c/30*h);setTimeout(function(){for(h=0;h<k;h++)$style.set(a,m[h],l[h]+q[h]);d&&d(a)},c);return a})};var V={decode:m.JSON?function(a){return $json.isJSON(a)?JSON.parse($string.trim(a)):!1}:function(a){return $json.isJSON(a)?(new Function("return "+$string.trim(a)))():!1},encode:m.JSON?function(a){return JSON.stringify(a)}:function(a){a:{var b=[],c,d,f,e;for(c in a){f=a[c];d=typeof f;if("undefined"===d){a=void 0;break a}if("function"!==d){switch(d){case "object":e=null===f?f:f.getDay?'"'+(1E3-10*~f.getUTCMonth()+f.toUTCString()+1E3+f/1).replace(/1(..).*?(\d\d)\D+(\d+).(\S+).*(...)/,"$3-$1-$2T$4.$5Z")+'"':f.length?"["+function(){var a=[];$each(f,function(b,c){a.push("string"===typeof c?'"'+$string.slashes(c)+'"':c)});return a.join(",")}()+"]":$json.encode(f);break;case "number":e=!isFinite(f)?null:f;break;case "boolean":case "null":e=f;break;case "string":e='"'+$string.slashes(f)+'"'}b.push('"'+c+'":'+e)}}a=b.join(",")}return"{"+a+"}"},isJSON:function(a){return"string"===typeof a&&""!==$string.trim(a)?L.test(a.replace(M,"@").replace(N,"]").replace(O,"")):!1}},W=navigator.userAgent.toLowerCase(),t={msie:/msie/,msie6:/msie 6\.0/,msie7:/msie 7\.0/,msie8:/msie 8\.0/,msie9:/msie 9\.0/,msie10:/msie 10\.0/,firefox:/firefox/,opera:/opera/,webkit:/webkit/,iPad:/ipad/,iPhone:/iphone/,android:/android/},v;for(v in t)t[v]=t[v].test(W);var l={$:function(a){return g.getElementById(a)},$each:function(a,b){var c=0,d=a.length,f;if(d!==n)for(;c<d&&!1!==b.call(a[c],c,a[c++]););else for(f in a)b.call(a[f],f,a[f])},$id:function(a,b){var c=[],d;if("string"===typeof a)return d=$(a),null!==d&&b&&b(d),d;$each(a,function(a,b){d=$(b);null!==d&&c.push(d)});return e(c,b)},$dom:function(a,b){b&&(a.length?e(a,b):b(a));return a},$tag:function(a,b,c){return e(a.getElementsByTagName(b),c)},$class:P,$select:Q,$new:function(a,b){var c=g.createElement(a);if(b)try{return $each(b,function(a,b){switch(a){case "css":case "style":$css.set(c,b);break;case "innerHTML":case "html":$html(c,b);break;case "className":case "class":$className.set(c,b);break;case "text":$text(c,b);break;default:$attr.set(c,a,b)}}),c}catch(d){}finally{c=null}return c},$string:R,$attr:{get:function(a,b){return a.getAttribute(b)},set:function(a,b,c){return e(a,function(a){a.setAttribute(b,c)})},remove:function(a,b){return e(a,function(a){a.removeAttribute(b)})}},$data:{get:function(a,b){var c=$attr.get(a,"data-"+b);return"true"===c?!0:"false"===c?!1:"null"===c?"":null===c?"":""===c?"":!isNaN(parseFloat(c))&&isFinite(c)?+c:F.test(c)?$json.decode(c):c},set:function(a,b,c){return e(a,function(a){c="object"===typeof c?$json.encode(c):c;"object"===typeof b?$each(b,function(b,c){$attr.set(a,"data-"+b,c)}):$attr.set(a,"data-"+b,c);return a})},remove:function(a,b){return e(a,function(a){$attr.remove(a,"data-"+b)})}},$storage:S,$event:T,$clear:function(a){a&&(clearTimeout(a),clearInterval(a));return null},$ready:function(a){if("complete"===g.readyState)return setTimeout(a,1);if(g.addEventListener)z.push(a),g.addEventListener("DOMContentLoaded",A,!1);else{var b=function(){try{g.documentElement.doScroll("left")}catch(c){setTimeout(b,1);return}a()};b()}},$css:{get:function(a,b){if("object"===typeof b){var c={};$each(b,function(b,f){c[f]=$style.get(a,f)});return c}return $style.get(a,b)},set:function(a,b,c){return e(a,function(a){"object"===typeof b?$each(b,function(b,c){$style.set(a,$string.camelCase(b),$css.fix(b,c))}):$style.set(a,$string.camelCase(b),$css.fix(b,c));return a})},number:{fontWeight:!0,lineHeight:!0,opacity:!0,zIndex:!0},unit:function(a,b){if($css.number[a])return"";var c=b.toString().replace(I,"");return""===c?"px":c},fix:function(a,b){"number"===typeof b&&!$css.number[a]&&(b+="px");return null===b&&isNaN(b)?!1:b}},$style:U,$pos:function(a,b,c){return e(a,function(a){$style.set(a,"left",b+"px");$style.set(a,"top",c+"px");return a})},$offset:function(a){var b=g.body,c=g.documentElement,d=a.getBoundingClientRect();return{top:d.top+(m.scrollY||b.parentNode.scrollTop||a.scrollTop)-(c.clientTop||b.clientTop||0),left:d.left+(m.scrollX||b.parentNode.scrollLeft||a.scrollLeft)-(c.clientLeft||b.clientLeft||0),width:a.offsetWidth,height:a.offsetHeight}},$append:function(a,b){return e(a,function(a){return a.appendChild(q(a,b))})},$prepend:function(a,b){return e(a,function(a){return a.firstChild?a.insertBefore(q(a,b),a.firstChild):a.appendChild(q(a,b))})},$before:function(a,b){return e(a,function(a){return a.parentNode.insertBefore(q(a,b),a)})},$after:function(a,b){return e(a,function(a){return a.nextSibling?a.parentNode.insertBefore(q(a,b),a.nextSibling):a.parentNode.appendChild(q(a,b))})},$remove:function(a){return e(a,function(a){return null!==a&&a.parentNode?a.parentNode.removeChild(a):a})},$empty:function(a){return e(a,function(a){a.innerHTML="";return a})},$html:function(a,b){return e(a,function(a){if(b){try{a.innerHTML=b}catch(d){$append($empty(a),b)}return a}return 1===a.nodeType?a.innerHTML:null})},$text:function(a,b){return e(a,function(a){if(b)return $empty(a),a.appendChild(g.createTextNode(b)),a;var d="",f=a.textContent;if((f||a.innerText)===a.innerHTML)d=f?$string.trim(a.textContent.replace(x,"")):a.innerText.replace(H,"");else for(a=a.firstChild;a;a=a.nextSibling)if(f=a.nodeType,3===f&&""!==$string.trim(a.nodeValue)&&(d+=a.nodeValue.replace(x,"")+(a.nextSibling&&"br"!==a.nextSibling.tagName.toLowerCase()?"\n":"")),1===f||2===f)d+=$text(a)+("block"===$style.get(a,"display")||"br"===a.tagName.toLowerCase()?"\n":"");return d})},$className:{add:function(a,b){return e(a,function(a){if(""===a.className)a.className=b;else{var d=a.className,f=[];$each(b.split(r),function(a,b){RegExp("\\b("+b+")\\b").test(d)||f.push(" "+b)});a.className+=f.join("")}return a})},set:function(a,b){return e(a,function(a){a.className=b;return a})},has:function(a,b){return RegExp("\\b("+b.split(r).join("|")+")\\b").test(a.className)},remove:function(a,b){return e(a,function(a){a.className=b?$string.trim(a.className.replace(RegExp("\\b("+b.split(r).join("|")+")\\b","g"),"").split(r).join(" ")):"";return a})}},$hide:function(a,b,c){B(a,"hide",b,c)},$show:function(a,b,c){B(a,"show",b,c)},$toggle:function(a,b,c){return e(a,function(a){"none"===$style.get(a,"display")?$show(a,b,c):$hide(a,b,c)})},$animate:k,$fadeout:function(a,b,c){return e(a,function(a){$animate(a,{opacity:{from:1,to:0}},b||500,c)})},$fadein:function(a,b,c){return e(a,function(a){$animate(a,{opacity:{from:0,to:1}},b||500,c)})},$cookie:{get:function(a){for(var b=g.cookie.split("; "),c=0,d=b.length,f;c<d;c++)if(f=b[c].split("="),f[0]===a)return a=decodeURIComponent(f[1]),$json.isJSON(a)?$json.decode(a):a.toString();return null},set:function(a,b,c){if("object"===typeof a)return c=b,$each(a,function(a,b){$cookie.set(a,b,c)});var d=new Date;d.setTime(d.getTime());c=c?";expires="+(new Date(d.getTime()+864E5*c)).toGMTString():"";b="object"===typeof b?$json.encode(b):b;return g.cookie=a+"="+$url(b)+c+";path=/"},remove:function(){$each(arguments,function(a,b){$cookie.set(b,"",-1)});return!0}},$json:V,$ajax:function(a,b){"object"===typeof a&&(b=a,a=n);b=b||{};var c=m.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,d=[];c.open(b.type||"POST",a||b.url,!0);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");b.header&&$each(b.header,function(a,b){c.setRequestHeader(a,b)});b.data&&$each(b.data,function(a,b){d.push(C(a,b))});c.send(d.join("&").replace(/%20/g,"+"));c.onreadystatechange=function(){4===c.readyState&&(200===c.status&&b.success?(data=c.responseText,b.success(""!==data&&$json.isJSON(data)?$json.decode(data):data)):b.error&&b.error(c.status))}},$loadscript:function(a){return $prepend(g.head||g.getElementsByTagName("head")[0]||g.documentElement,$new("script",{type:"text/javascript",async:!0,src:a}))},$url:function(a){return encodeURIComponent(a)},$rand:function(a,b){return Math.floor(Math.random()*(b-a+1)+a)},$browser:t},w;for(w in l)m[w]=l[w];l.version="1.0.2";m.Qatrix=l;$ready(function(){g.querySelectorAll||(l.Qselector=$append(g.body,$new("style")));m.localStorage||(l.storage=$append(g.body,$new("link",{style:{behavior:"url(#default#userData)"}})))})})(window,document);